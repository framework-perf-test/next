{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { getTodos, getTodo, addTodo, updateTodo, deleteTodo } from \"./todos\";\nimport TodoView from \"./TodoView\";\nimport TodoForm from \"./TodoForm\";\nexport const Todos = () => {\n  const {\n    0: currentTodo,\n    1: setCurrentTodo\n  } = useState(null);\n  const {\n    0: currentEvent,\n    1: setCurrentEvent\n  } = useState(null);\n  const {\n    0: todos,\n    1: setTodos\n  } = useState(getTodos());\n\n  const addTodoHandler = () => {\n    setCurrentEvent(\"edit\");\n    setCurrentTodo({\n      name: \"\",\n      description: \"\",\n      type: \"\",\n      confidential: \"No\",\n      remind: false,\n      date: \"\"\n    });\n  };\n\n  const selectTodoHandler = (id, currentEvent) => {\n    setCurrentEvent(currentEvent);\n    setCurrentTodo(getTodo(id));\n  };\n\n  const onUpdateTodoHandler = todo => {\n    if (!todo.id) {\n      addTodo(todo);\n    } else {\n      updateTodo(todo);\n    }\n\n    setCurrentTodo(null);\n    setTodos(new Array(...getTodos()));\n  };\n\n  const deleteTodoHandler = id => {\n    deleteTodo(id);\n    setTodos(new Array(...getTodos()));\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"h3\", {\n      children: [\"Todos \", /*#__PURE__*/_jsx(\"button\", {\n        onClick: addTodoHandler,\n        children: \"New\"\n      })]\n    }), currentTodo && currentEvent === \"view\" && /*#__PURE__*/_jsx(TodoView, {\n      todo: currentTodo,\n      onClose: () => setCurrentEvent(null)\n    }), currentTodo && currentEvent === \"edit\" && /*#__PURE__*/_jsx(TodoForm, {\n      todo: currentTodo,\n      onAddOrUpdate: onUpdateTodoHandler\n    }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsxs(\"table\", {\n      width: \"100%\",\n      children: [/*#__PURE__*/_jsx(\"thead\", {\n        children: /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"th\", {\n            align: \"left\",\n            children: \"Id\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            align: \"left\",\n            children: \"Name\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            align: \"left\",\n            children: \"description\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            align: \"left\",\n            children: \"Type\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            align: \"left\",\n            children: \"Confidential\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            align: \"left\",\n            children: \"Remind\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            align: \"left\",\n            children: \"Date\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            align: \"left\",\n            children: \"Actions\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"tbody\", {\n        children: todos.map(todo => /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"td\", {\n            children: todo.id\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: todo.name\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: todo.description\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: todo.type\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: todo.confidential\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: todo.remind.toString()\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: todo.date\n          }), /*#__PURE__*/_jsxs(\"td\", {\n            children: [/*#__PURE__*/_jsx(\"button\", {\n              type: \"button\",\n              onClick: () => selectTodoHandler(todo.id, \"view\"),\n              children: \"View\"\n            }), \"\\xA0\", /*#__PURE__*/_jsx(\"button\", {\n              type: \"button\",\n              onClick: () => selectTodoHandler(todo.id, \"edit\"),\n              children: \"Edit\"\n            }), \"\\xA0\", /*#__PURE__*/_jsx(\"button\", {\n              type: \"button\",\n              onClick: () => deleteTodoHandler(todo.id),\n              children: \"Delete\"\n            })]\n          })]\n        }, todo.id))\n      })]\n    })]\n  });\n};\nexport default Todos;","map":null,"metadata":{},"sourceType":"module"}