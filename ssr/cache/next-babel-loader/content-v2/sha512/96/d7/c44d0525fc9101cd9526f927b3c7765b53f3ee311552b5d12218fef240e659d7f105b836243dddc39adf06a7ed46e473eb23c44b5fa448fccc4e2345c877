{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { getTodos, getTodo, addTodo, updateTodo, deleteTodo } from \"./todos\";\nimport TodoView from \"./TodoView\";\nimport TodoForm from \"./TodoForm\";\nexport default class Todos extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentTodo: null,\n      currentEvent: null,\n      todos: getTodos()\n    };\n    this.addTodoHandler = this.addTodoHandler.bind(this);\n    this.selectTodoHandler = this.selectTodoHandler.bind(this);\n    this.onUpdateTodoHandler = this.onUpdateTodoHandler.bind(this);\n  }\n\n  addTodoHandler() {\n    this.setState({\n      currentEvent: \"edit\",\n      currentTodo: {\n        name: \"\",\n        description: \"\",\n        type: \"\",\n        confidential: \"No\",\n        remind: false,\n        date: \"\"\n      }\n    });\n  }\n\n  selectTodoHandler(id, currentEvent) {\n    this.setState({\n      currentEvent,\n      currentTodo: getTodo(id)\n    });\n  }\n\n  onUpdateTodoHandler(todo) {\n    if (!todo.id) {\n      addTodo(todo);\n    } else {\n      updateTodo(todo);\n    }\n\n    this.setState({\n      currentTodo: null,\n      todos: getTodos()\n    });\n  }\n\n  deleteTodoHandler(id) {\n    deleteTodo(id);\n    this.setState({\n      todos: getTodos()\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Todos \", /*#__PURE__*/_jsx(\"button\", {\n          onClick: this.addTodoHandler,\n          children: \"New\"\n        })]\n      }), this.state.currentTodo && this.state.currentEvent === \"view\" && /*#__PURE__*/_jsx(TodoView, {\n        todo: this.state.currentTodo,\n        onClose: () => this.setState({\n          currentEvent: null\n        })\n      }), this.state.currentTodo && this.state.currentEvent === \"edit\" && /*#__PURE__*/_jsx(TodoForm, {\n        todo: this.state.currentTodo,\n        onAddOrUpdate: this.onUpdateTodoHandler\n      }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsxs(\"table\", {\n        width: \"100%\",\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              align: \"left\",\n              children: \"Id\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              align: \"left\",\n              children: \"Name\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              align: \"left\",\n              children: \"description\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              align: \"left\",\n              children: \"Type\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              align: \"left\",\n              children: \"Confidential\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              align: \"left\",\n              children: \"Remind\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              align: \"left\",\n              children: \"Date\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              align: \"left\",\n              children: \"Actions\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: this.state.todos.map(todo => /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              children: todo.id\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: todo.name\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: todo.description\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: todo.type\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: todo.confidential\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: todo.remind.toString()\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: todo.date\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              children: [/*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                onClick: () => this.selectTodoHandler(todo.id, \"view\"),\n                children: \"View\"\n              }), \"\\xA0\", /*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                onClick: () => this.selectTodoHandler(todo.id, \"edit\"),\n                children: \"Edit\"\n              }), \"\\xA0\", /*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                onClick: () => this.deleteTodoHandler(todo.id),\n                children: \"Delete\"\n              })]\n            })]\n          }, todo.id))\n        })]\n      })]\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}